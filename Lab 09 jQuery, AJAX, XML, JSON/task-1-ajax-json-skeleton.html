<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>AJAX JSON</title>

<script src="jquery-3.2.1.js"></script>
<style type="text/css">
	table {
		display: none;
		width: 45%;
	}
	td {
		padding: 7px;
	}
	.error {
        color: #D8000C;
        background-color: #FFD2D2;
        padding: 10px;
        width: 300px;
        display: none;
    }
</style>
</head>

<body>

<input type="type" name="name" id="filename" placeholder="Enter the filename" />
<button type="button" id='submitButton'>Fetch Data</button>
<br><br>
<table id="datat" border="1" >
	<thead>
		<tr>
			<th>Name</th>
			<th>Designation</th>
			<th>Salary</th>
			<th>Joining Date</th>
			<th>Office</th>
			<th>Extension</th>
		</tr>
		<tbody>

		</tbody>
	</thead>
</table>

<script>
$(function(){
	$('#submitButton').on('click', function(){
		if( $('#filename').val() == "" ){
			alert("Please enter a filename");
			return;
		}

		$.ajax({
	        type: 'GET',
	        url: $('#filename').val()+'.json',
	        dataType:'json',

	        success: function (data) {
	        	$('#filename').val("")
	            $.each(data.employees, function(i, employee) {
	            	var data = '<td>'+ employee.name +'</td>';
	            	data += '<td>'+ employee.designation +'</td>';
	            	data += '<td>'+ employee.salary +'</td>';
	            	data += '<td>'+ employee.joining_date +'</td>';
	            	data += '<td>'+ employee.office +'</td>';
	            	data += '<td>'+ employee.extension +'</td>';
	            	$('#datat tbody').append('<tr>'+ data +'</tr>');
		        });

		        $('#datat').slideDown(3000);
		        $('#submitButton').attr("disabled", "disabled");
		        $('#filename').attr("disabled", "disabled");
	        },

	        error: function(){
	        	alert("Unable to open file, check file name");
	        }
	    });
	});
});

</script>

</body>
</html>
